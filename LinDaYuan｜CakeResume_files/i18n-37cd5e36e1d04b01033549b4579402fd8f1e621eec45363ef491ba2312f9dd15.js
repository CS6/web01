!function(e,t){"function"==typeof define&&define.amd?define("i18n",function(){return t(e)}):"object"==typeof module&&module.exports?module.exports=t(e):e.I18n=t(e)}(this,function(e){"use strict";var b=e&&e.I18n||{},i=Array.prototype.slice,y=function(e){return("0"+e.toString()).substr(-2)},s=function(e,t){return p("round",e,-t).toFixed(t)},u=function(e){var t=typeof e;return"function"===t||"object"===t},n=function(e){return"function"===typeof e},c=function(e){return null!=e},r=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},a=function(e){return"string"==typeof value||"[object String]"===Object.prototype.toString.call(e)},o=function(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)},l=function(e){return!0===e||!1===e},p=function(e,t,n){return void 0===n||0==+n?Math[e](t):(t=+t,n=+n,isNaN(t)||"number"!=typeof n||n%1!=0?NaN:(t=t.toString().split("e"),+((t=(t=Math[e](+(t[0]+"e"+(t[1]?+t[1]-n:-n)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]+n:n))))},f=function(e,t){return n(e)?e(t):e},h=function(e,t){var n,r;for(n in t)t.hasOwnProperty(n)&&(r=t[n],a(r)||o(r)||l(r)?e[n]=r:(null==e[n]&&(e[n]={}),h(e[n],r)));return e},v={day_names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbr_day_names:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],month_names:[null,"January","February","March","April","May","June","July","August","September","October","November","December"],abbr_month_names:[null,"Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridian:["AM","PM"]},d={precision:3,separator:".",delimiter:",",strip_insignificant_zeros:!1},m={unit:"$",precision:2,format:"%u%n",sign_first:!0,delimiter:",",separator:"."},g={unit:"%",precision:3,format:"%n%u",separator:".",delimiter:""},S=[null,"kb","mb","gb","tb"],t={defaultLocale:"en",locale:"en",defaultSeparator:".",placeholder:/(?:\{\{|%\{)(.*?)(?:\}\}?)/gm,fallbacks:!1,translations:{},missingBehaviour:"message",missingTranslationPrefix:""};return b.reset=function(){var e;for(e in t)this[e]=t[e]},b.initializeOptions=function(){var e;for(e in t)c(this[e])||(this[e]=t[e])},b.initializeOptions(),b.locales={},b.locales.get=function(e){var t=this[e]||this[b.locale]||this["default"];return n(t)&&(t=t(e)),!1===r(t)&&(t=[t]),t},b.locales["default"]=function(e){var t=[],i=[];return e&&t.push(e),!e&&b.locale&&t.push(b.locale),b.fallbacks&&b.defaultLocale&&t.push(b.defaultLocale),t.forEach(function(t){var e=t.split("-"),n=null,r=null;3===e.length?(n=e[0],r=[e[0],e[1]].join("-")):2===e.length&&(n=e[0]),-1===i.indexOf(t)&&i.push(t),b.fallbacks&&[n,r].forEach(function(e){null!=e&&e!==t&&-1===i.indexOf(e)&&i.push(e)})}),t.length||t.push("en"),i},b.pluralization={},b.pluralization.get=function(e){return this[e]||this[b.locale]||this["default"]},b.pluralization["default"]=function(e){switch(e){case 0:return["zero","other"];case 1:return["one"];default:return["other"]}},b.currentLocale=function(){return this.locale||this.defaultLocale},b.isSet=c,b.lookup=function(e,t){t=t||{};var n,r,i,a,o=this.locales.get(t.locale).slice();o[0];for(i=this.getFullScope(e,t);o.length;)if(n=o.shift(),r=i.split(this.defaultSeparator),a=this.translations[n]){for(;r.length&&(a=a[r.shift()])!==undefined&&null!==a;);if(a!==undefined&&null!==a)return a}if(c(t.defaultValue))return f(t.defaultValue,e)},b.pluralizationLookupWithoutFallback=function(e,t,n){var r,i,a=this.pluralization.get(t)(e);if(u(n))for(;a.length;)if(r=a.shift(),c(n[r])){i=n[r];break}return i},b.pluralizationLookup=function(e,t,n){n=n||{};var r,i,a,o,l=this.locales.get(n.locale).slice();l[0];for(t=this.getFullScope(t,n);l.length;)if(r=l.shift(),i=t.split(this.defaultSeparator),a=this.translations[r]){for(;i.length&&(a=a[i.shift()],u(a));)0==i.length&&(o=this.pluralizationLookupWithoutFallback(e,r,a));if(null!=o&&o!=undefined)break}return null!=o&&o!=undefined||c(n.defaultValue)&&(o=u(n.defaultValue)?this.pluralizationLookupWithoutFallback(e,n.locale,n.defaultValue):n.defaultValue,a=n.defaultValue),{message:o,translations:a}},b.meridian=function(){var e=this.lookup("time"),t=this.lookup("date");return e&&e.am&&e.pm?[e.am,e.pm]:t&&t.meridian?t.meridian:v.meridian},b.prepareOptions=function(){for(var e,t=i.call(arguments),n={};t.length;)if("object"==typeof(e=t.shift()))for(var r in e)e.hasOwnProperty(r)&&(c(n[r])||(n[r]=e[r]));return n},b.createTranslationOptions=function(e,t){var n=[{scope:e}];return c(t.defaults)&&(n=n.concat(t.defaults)),c(t.defaultValue)&&n.push({message:t.defaultValue}),n},b.translate=function(t,e){e=e||{};var n,r=this.createTranslationOptions(t,e),i=this.prepareOptions(e);return delete i.defaultValue,r.some(function(e){if(c(e.scope)?n=this.lookup(e.scope,i):c(e.message)&&(n=f(e.message,t)),n!==undefined&&null!==n)return!0},this)?("string"==typeof n?n=this.interpolate(n,e):u(n)&&c(e.count)&&(n=this.pluralize(e.count,t,e)),n):this.missingTranslation(t,e)},b.interpolate=function(e,t){t=t||{};var n,r,i,a,o=e.match(this.placeholder);if(!o)return e;for(;o.length;)r=(n=o.shift()).replace(this.placeholder,"$1"),a=c(t[r])?t[r].toString().replace(/\$/gm,"_#$#_"):r in t?this.nullPlaceholder(n,e,t):this.missingPlaceholder(n,e,t),i=new RegExp(n.replace(/\{/gm,"\\{").replace(/\}/gm,"\\}")),e=e.replace(i,a);return e.replace(/_#\$#_/g,"$")},b.pluralize=function(e,t,n){var r,i;return n=this.prepareOptions({count:String(e)},n),(i=this.pluralizationLookup(e,t,n)).translations==undefined||null==i.translations?this.missingTranslation(t,n):i.message!=undefined&&null!=i.message?this.interpolate(i.message,n):(r=this.pluralization.get(n.locale),this.missingTranslation(t+"."+r(e)[0],n))},b.missingTranslation=function(e,t){if("guess"!=this.missingBehaviour)return'[missing "'+[null!=t&&null!=t.locale?t.locale:this.currentLocale(),this.getFullScope(e,t)].join(this.defaultSeparator)+'" translation]';var n=e.split(".").slice(-1)[0];return(0<this.missingTranslationPrefix.length?this.missingTranslationPrefix:"")+n.replace("_"," ").replace(/([a-z])([A-Z])/g,function(e,t,n){return t+" "+n.toLowerCase()})},b.missingPlaceholder=function(e){return"[missing "+e+" value]"},b.nullPlaceholder=function(){return b.missingPlaceholder.apply(b,arguments)},b.toNumber=function(e,t){t=this.prepareOptions(t,this.lookup("number.format"),d);var n,r,i=e<0,a=s(Math.abs(e),t.precision).toString().split("."),o=[],l=t.format||"%n",u=i?"-":"";for(e=a[0],n=a[1];0<e.length;)o.unshift(e.substr(Math.max(0,e.length-3),3)),e=e.substr(0,e.length-3);return r=o.join(t.delimiter),t.strip_insignificant_zeros&&n&&(n=n.replace(/0+$/,"")),0<t.precision&&n&&(r+=t.separator+n),r=(l=t.sign_first?"%s"+l:l.replace("%n","%s%n")).replace("%u",t.unit).replace("%n",r).replace("%s",u)},b.toCurrency=function(e,t){return t=this.prepareOptions(t,this.lookup("number.currency.format"),this.lookup("number.format"),m),this.toNumber(e,t)},b.localize=function(e,t,n){switch(n||(n={}),e){case"currency":return this.toCurrency(t);case"number":return e=this.lookup("number.format"),this.toNumber(t,e);case"percentage":return this.toPercentage(t);default:var r;return r=e.match(/^(date|time)/)?this.toTime(e,t):t.toString(),this.interpolate(r,n)}},b.parseDate=function(e){var t,n,r;if("object"==typeof e)return e;if(t=e.toString().match(/(\d{4})-(\d{2})-(\d{2})(?:[ T](\d{2}):(\d{2}):(\d{2})([\.,]\d{1,3})?)?(Z|\+00:?00)?/)){for(var i=1;i<=6;i++)t[i]=parseInt(t[i],10)||0;t[2]-=1,r=t[7]?1e3*("0"+t[7]):null,n=t[8]?new Date(Date.UTC(t[1],t[2],t[3],t[4],t[5],t[6],r)):new Date(t[1],t[2],t[3],t[4],t[5],t[6],r)}else"number"==typeof e?(n=new Date).setTime(e):e.match(/([A-Z][a-z]{2}) ([A-Z][a-z]{2}) (\d+) (\d+:\d+:\d+) ([+-]\d+) (\d+)/)?(n=new Date).setTime(Date.parse([RegExp.$1,RegExp.$2,RegExp.$3,RegExp.$6,RegExp.$4,RegExp.$5].join(" "))):(e.match(/\d+ \d+:\d+:\d+ [+-]\d+ \d+/),(n=new Date).setTime(Date.parse(e)));return n},b.strftime=function(e,t){var n=this.lookup("date"),r=b.meridian();if(n||(n={}),n=this.prepareOptions(n,v),isNaN(e.getTime()))throw new Error("I18n.strftime() requires a valid date object, but received an invalid date.");var i=e.getDay(),a=e.getDate(),o=e.getFullYear(),l=e.getMonth()+1,u=e.getHours(),s=u,c=11<u?1:0,p=e.getSeconds(),f=e.getMinutes(),h=e.getTimezoneOffset(),d=Math.floor(Math.abs(h/60)),m=Math.abs(h)-60*d,g=(0<h?"-":"+")+(d.toString().length<2?"0"+d:d)+(m.toString().length<2?"0"+m:m);return 12<s?s-=12:0===s&&(s=12),t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace("%a",n.abbr_day_names[i])).replace("%A",n.day_names[i])).replace("%b",n.abbr_month_names[l])).replace("%B",n.month_names[l])).replace("%d",y(a))).replace("%e",a)).replace("%-d",a)).replace("%H",y(u))).replace("%-H",u)).replace("%I",y(s))).replace("%-I",s)).replace("%m",y(l))).replace("%-m",l)).replace("%M",y(f))).replace("%-M",f)).replace("%p",r[c])).replace("%S",y(p))).replace("%-S",p)).replace("%w",i)).replace("%y",y(o))).replace("%-y",y(o).replace(/^0+/,""))).replace("%Y",o)).replace("%z",g)},b.toTime=function(e,t){var n=this.parseDate(t),r=this.lookup(e);return n.toString().match(/invalid/i)?n.toString():r?this.strftime(n,r):n.toString()},b.toPercentage=function(e,t){return t=this.prepareOptions(t,this.lookup("number.percentage.format"),this.lookup("number.format"),g),this.toNumber(e,t)},b.toHumanSize=function(e,t){for(var n,r,i=1024,a=e,o=0;i<=a&&o<4;)a/=i,o+=1;return 0===o?(n=this.t("number.human.storage_units.units.byte",{count:a}),r=0):(n=this.t("number.human.storage_units.units."+S[o]),r=a-Math.floor(a)==0?0:1),t=this.prepareOptions(t,{unit:n,precision:r,format:"%n%u",delimiter:""}),this.toNumber(a,t)},b.getFullScope=function(e,t){return t=t||{},r(e)&&(e=e.join(this.defaultSeparator)),t.scope&&(e=[t.scope,e].join(this.defaultSeparator)),e},b.extend=function(e,t){return void 0===e&&void 0===t?{}:h(e,t)},b.t=b.translate,b.l=b.localize,b.p=b.pluralize,b});